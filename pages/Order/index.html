<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <script src="../../node_modules/jquery/dist/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="../../node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="../../main.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="main.js"></script> -->
    <style type='text/css'>
            .embeddedServiceHelpButton .helpButton .uiButton { background-color: #005290; font-family: "Salesforce Sans", sans-serif; }
            .embeddedServiceHelpButton .helpButton .uiButton:focus { outline: 1px solid #005290; }
            @font-face {
            font-family: 'Salesforce Sans';
            src: url('https://www.sfdcstatic.com/system/shared/common/assets/fonts/SalesforceSans/SalesforceSans-Regular.woff') format('woff'),
    url('https://www.sfdcstatic.com/system/shared/common/assets/fonts/SalesforceSans/SalesforceSans-Regular.ttf') format('truetype');
            }
    </style>



     
</head>
<body>
    <nav class="navbar navbar-light bg-light">
    <a class="navbar-brand" href="#">
        <img src="../../assets/DellTech_Logo_Prm_Blue.jpg" class="d-inline-block align-top" alt="">
    </a>
</nav>
<div class="navigationLink">
                    <a href="../../index.html" target="_blank">Home</a>
                    <a href="../page2/index.html" target="_blank" href="#" >Live Agent (In New Tab)</a>
                    <a href="../page3/index.html" target="_blank">Resume Chat (In New Tab)</a>
</div>    
    <div id="prechatFormCanvas" class="new-chat" style="margin-top: 20px;">
        <div class="row justify-content-md-center">
                <div class="col-lg-6 col-md-8 col-sm-12 order-md-1  border rounded">
                                <form class="needs-validation" novalidate="">
                                    <div class="mb-3">
                                        <label for="viewType">View Type</label>
                                        <select class="custom-select d-block w-100" id="viewType" required="">
                                                <option>Order</option>
                                                <option>GeneralChat</option>
                                                <option>CustomerNumber</option>
                                                <option>PONumber</option>
                                              </select>
                                        <div class="invalid-feedback">
                                          Please enter your Issue Type.
                                        </div>
                                      </div>
                                        <div class="mb-3">
                                                <label for="serviceTag" style="margin-top: 10px;">Order Number </label>
                                                <div class="input-group">
                                                    <input type="text" class="form-control" id="orderNumber" value="117590363">
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                              <label for="serviceTag" style="margin-top: 10px;">BUID</label>
                                              <div class="input-group">
                                                  <input type="text" class="form-control" id="BUID" value="11">
                                              </div>
                                          </div> 
                                  <hr class="mb-4">
                                  <div class="mb-3">
                                      <a  id="liveagent_button_online_Test" class="enabledButton btn btn-primary btn-lg btn-block"  onclick="startOrderChat()" data-metrics="{&quot;btnname&quot;:&quot;Chat&quot;,&quot;appcode&quot;:&quot;890.130.152&quot;,&quot;ordernumber&quot;:&quot;125600246&quot;}">Start New Chat</a>
                                  </div>
                                </form>
                              
                </div>
            </div>
        </div>
    </div>

    <div id="sprinklrBotEle" style="display:none; background: #00447C;color: #fff;width: 320px;max-height: 720px;border-radius: 8px 8px 0 0;position: fixed;left: 0px;bottom: 0;right: 20px;margin: 0;height: 90%;box-shadow: 2px 2px 20px rgba(0,0,0,.2);z-index: 15;text-align: center;overflow: hidden;max-width: 40em;pointer-events: all;">
      <dev>
         <h5 style="padding: 10px;background: #000;">SprinklrBot</h5>
         <button id="closeSprinklrChat" onclick="endSprinklrChatBotSuccessfully()" class="" style="position: absolute;right: 7px;top: 8px;margin: 0px;padding: 7px;background: #333;border: none;cursor: pointer;border-radius: 6px;">
            <span class="cusPreChat-assistiveText">Close chat</span> 
            <span class="cusPreChat-x-small cusPreChat-embeddedServiceIcon">
               <svg viewBox="0 0 100 100" data-key="close" aria-hidden="true" focusable="false">
                  <path d="M65.577 53.73l27.5-27.71c1.27-1.27 1.27-3.174 0-4.445l-4.23-4.44c-1.272-1.27-3.175-1.27-4.445 0L56.694 44.847c-.847.845-2.115.845-2.96 0L26.018 16.922c-1.27-1.27-3.174-1.27-4.445 0l-4.44 4.442c-1.27 1.27-1.27 3.174 0 4.444l27.71 27.71c.846.846.846 2.116 0 2.962L16.923 84.403c-1.27 1.27-1.27 3.174 0 4.444l4.442 4.442c1.27 1.268 3.174 1.268 4.444 0l27.71-27.713c.846-.847 2.116-.847 2.962 0L84.19 93.29c1.27 1.268 3.174 1.268 4.445 0l4.44-4.445c1.27-1.268 1.27-3.17 0-4.44l-27.5-27.712c-.847-.847-.847-2.115 0-2.96z"> </path>
               </svg>
            </span>
         </button>
      </dev>
      <div class="form-group" style="margin: 28px;height: 152px;">
         <div><label for="serviceTag" style="font-size: 13px;">Enter Case Number created by Sprinklr Bot</label></div>
         <input type="text" class="form-control" id="caseNumberInputField" aria-describedby="caseNumberInputField" placeholder="Required if you click on Transfer" value="">
         <button type="button" id="transfertoAgentViaSprinklr" class="btn btn-primary" onclick="transfertoAgentViaSprinklr()" style="display: block;float: left;margin-top: 20px;width: 100%;">Transfer To Agent</button>
         <button type="button" id="RestartSystemFromSprinklr" class="btn" onclick="rebootBySprinklr()" style="display: block;float: left;margin-top: 20px;width: 100%;">Reboot</button>
      </div>
   </div>
   
      <style type='text/css'>
        .embeddedServiceHelpButton .helpButton .uiButton {
          background-color: #007db8;
          font-family: "Roboto Regular", sans-serif;
        }
        .embeddedServiceHelpButton .helpButton .uiButton:focus {
          outline: 1px solid #007db8;
        }
      </style>
    <script src="../../mainChat.js"></script>
      <script src="../../orderSupportChat.js"></script>
      <script type='text/javascript'>
     
      function startOrderChat(){
        console.log("890.130.152");
        let orderNumber = document.getElementById("orderNumber").value,
        BUID = document.getElementById("BUID").value,
        viewType = document.getElementById('viewType').value,
        DPId = document.getElementById("BUID").value;
        var orderSnapinObject =  {
                    BUID: BUID,
                    orderNumber: orderNumber,
                    customerNumber: orderNumber,
                    poNumber: orderNumber,
                    DPId: DPId,
                    irnNumber: DPId,
                    viewType: viewType,//General/Order/CustomerNumber/PONumber
                    issueType:"PC Slow",

                    //Hard coded prechat values 
                    firstName:"Bishav",
                    lastName: "Rajbhandari",
                    emailAddress:"bnr@dell.com",
                    phoneNumber:"1234567",
                    issueDescription:"Test of Description",
                    productCode:"Latitude",
                    issueType: "KNY",
                    BUID: "11",
                    productName: "Precision M4500",
                    customernumber: "2701",
                    issueVal:"Order Support",
                    language: "en",
                    countryCode:"us",
                    sprinklrURL:"https://dell.com/sprinklrURL",
                    intentApiURL:"https://dell.com/intentApiURL",
                    sprinklrLoadingMessage:"Hello Dell!",
                    ////////
                    //SIT-1
                    ///////
                    /*
                    baseLiveAgentContentURL: 'https://c.la1-c1cs-ia2.salesforceliveagent.com/content',
                    deploymentId: '5720b000000GneC',
                    buttonId: '5730b0000008PaN',
                    baseLiveAgentURL: 'https://d.la1-c1cs-ia2.salesforceliveagent.com/chat',
                    LiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I1P0000008OJDUA2_16c8a8a3e09',             
                    componentName: "CARE_Snap_In",
                    domainName:"localhost",
                    organizationId: '00DP0000003pH21',
                    serviceForceURL: "https://service.force.com",
                    snapInInitURL:  'https://dellservices--SIT1.my.salesforce.com',
                    snapInJs: "https://service.force.com/embeddedservice/5.0/esw.min.js",
                    snapInLAURL:  'https://sit1-dellservices.cs4.force.com/LASnapIn'

	
componentName: "CARE_Snap_In",
domainName:"localhost",
organizationId: '00DR00000020bLo',
serviceForceURL: "https://service.force.com",
snapInInitURL:  'https://dellservices--0703ccks.my.salesforce.com',
snapInJs: "https://dellservices--0703ccks.my.salesforce.com/embeddedservice/5.0/esw.min.js",
snapInLAURL:  'https://0703ccks-dellservices.cs2.force.com/LASnapIn',
  baseLiveAgentContentURL: 'https://c.la1-c1cs-ia2.salesforceliveagent.com/content',
  deploymentId: '5720b000000GneC',
  buttonId: '5731P000000TSSR',
  baseLiveAgentURL: 'https://d.la1-c1cs-ia2.salesforceliveagent.com/chat',
  LiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I1P0000008OJDUA2_16c8a8a3e09'


                    //0803
                   componentName: "CARE_Snap_In",
                    domainName:"localhost",
                    organizationId: '00D550000001KdZ',
                    serviceForceURL: "https://service.force.com",
                    snapInInitURL:  'https://dellservices--0803ccks.my.salesforce.com',
                    snapInJs: "https://dellservices--0803ccks.my.salesforce.com/embeddedservice/5.0/esw.min.js",
                    snapInLAURL:  'https://0803ccks-dellservices.cs41.force.com/LASnapIn',
                      baseLiveAgentContentURL: 'https://c.la1-c1cs-ia2.salesforceliveagent.com/content',
                      deploymentId: '5720b000000GneC',
                      buttonId: '5731P000000TSSR',
                      baseLiveAgentURL: 'https://d.la1-c1cs-ia2.salesforceliveagent.com/chat',
                      LiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I1P0000008OJDUA2_16c8a8a3e09'


 //G2-0703 Code base
 LiveAgentDevName: "EmbeddedServiceLiveAgent_Parent04I0j0000008OKkEAM_16b2c5b6ad5",
baseLiveAgentContentURL: "https://c.la1-c1cs-ia4.salesforceliveagent.com/content",
baseLiveAgentURL: "https://d.la1-c1cs-ia4.salesforceliveagent.com/chat",
buttonId: "5731P000000TSST",
componentName: "CARE_Snap_In",
customerNumber: "520000181596",
deploymentId: "5720b000000GneC",
issueType: "Order Return",
orderNumber: "131262932",
organizationId: "00D2C000000D19k",
serviceForceURL: "https://service.force.com",
snapInInitURL: "https://dellservices--ge2o7o3.my.salesforce.com",
snapInJs: "https://dellservices--ge2o7o3.my.salesforce.com/embeddedservice/5.0/esw.min.js",
snapInLAURL: "https://ge2o7o3-dellservices.cs59.force.com/LASnapIn"                   


 //G1 Code base
LiveAgentDevName: "EmbeddedServiceLiveAgent_Parent04I0j0000008OKkEAM_16b2c5b6ad5",
baseLiveAgentContentURL: "https://c.la2-c1cs-ia2.salesforceliveagent.com/content",
baseLiveAgentURL: "https://d.la2-c1cs-ia2.salesforceliveagent.com/chat",
buttonId: "5731P000000TSSX",
componentName: "CARE_Snap_In",
customerNumber: "520000181596",
deploymentId: "5720b000000GneC",
issueType: "Order Return",
orderNumber: "131262932",
organizationId: "00D7A0000004aRK",
serviceForceURL: "https://service.force.com",
snapInInitURL: "https://dellservices--ge1.my.salesforce.com",
snapInJs: "https://dellservices--ge1.my.salesforce.com/embeddedservice/5.0/esw.min.js",
snapInLAURL: "https://ge1-dellservices.cs44.force.com/LASnapIn"                   
  */


 //Dev0203 Code base
 LiveAgentDevName: "EmbeddedServiceLiveAgent_Parent04I1P0000008OJDUA2_16c8a8a3e09",
 baseLiveAgentContentURL: "https://c.la2-c1cs-ord.salesforceliveagent.com/content",
 baseLiveAgentURL: "https://d.la2-c1cs-ord.salesforceliveagent.com/chat",
 buttonId: "5731P000000TSSX",
 componentName: "CARE_Snap_In",
 customerNumber: "520000181596",
 deploymentId: "5720b000000GneC",
 issueType: "Order Return",
 BUID: BUID,
 orderNumber: orderNumber,
 organizationId: "00D0t000000HQj8",
 serviceForceURL: "https://service.force.com",
 snapInInitURL: "https://dellservices--0203cck.my.salesforce.com",
 snapInJs: "https://dellservices--0203cck.my.salesforce.com/embeddedservice/5.0/esw.min.js",
 snapInLAURL: "https://0203cck-dellservices.cs77.force.com/LASnapIn" 

        };
        var orderSnapinLabelObj = {      
                firstName:"First Namo",
                lastName:"Last Name",
                emailAddress:"Email Address",
                phoneNumber:"Primary Phone Number",
                issueDescription:"Issue Description", //Not required as bot doesnot have description
                startChat:"Start Chat",
                orderPreChatHeader: "Please fill out the form below",
                customerNumber: "Customer Number",
                poNumber: "PO Number",
                orderNumber: "Order Number",
                DPId: "Purchase ID",
                irnNumber : "IRN Number",
                optional: "(optional)",
                lblOrdNoOptional : "Order Number or Purchase ID",
                characters:"characters",
                issueDescriptionLength:"50",  //Not required as bot doesnot have description
                customerPrivacyDesc:"\u003cb\u003eBisahv Your privacy is important to us.\u003c/b\u003e We will only use your information to process your request. We will not share it with anyone. To learn more about how we use and protect your data, see the \u003ca target=\u0027_blank\u0027 href=\u0027//www.dell.com/learn/policies-privacy\u0027\u003eDell Privacy Statement.\u003c/a\u003e",
                emailValidation:"Invalid Email Validation",
                firstNameValidation: "First name required",
                lastNameValidation:"Last name required",
                emailRequiredValidation:"Email name required",
                phoneRequiredValidation:"Phone name required",
                issueDescriptionValidation:"Descritpion name required",  //Not required as bot doesnot have description
                chatUnavailableMessage:"Sorry, no agents are available at this moment.",
                chatHeader:"Chat Now",
                blocklistEmails:"noreply@Dell.com|testing@dell.com|cool@dell.com|ok@dell.com",
                issueType :"Issue Type"
        };
      
        triggerOrderSnapin(orderSnapinObject, orderSnapinLabelObj);

      }
      
      function dellmetricsTrack(elementId,Message){
        // alert("Element Id = "+elementId+" and Message is '"+Message+"'");
        if(Message)
            console.log("PropValue = "+elementId+": "+Message);
        else
             console.log("PropValue = "+elementId);
     }
     function getSprinklrOrderIntent(sprinklrChatBotVal){
       //add condition here
       return false;
     }
     function getSprinklrOrderIntent(sprinklrChatBotVal){
      var confirmationVlaue = confirm("Click Ok To start Sprinklr");
      alert("Confirmation value is : "+ confirmationVlaue);
      return confirmationVlaue;
    }
    function startCareChatBotSprinklr(orderSnapinObject){
      document.getElementById('sprinklrBotEle').style.display = "block";
    }
    function transfertoAgentViaSprinklr(){
      var lightningCaseNumber = document.getElementById('caseNumberInputField').value;
      document.getElementById('sprinklrBotEle').style.display = "none";
      triggerCareSnapinPostSprinkler(lightningCaseNumber);
  }
  function endSprinklrChatBotSuccessfully(){
    document.getElementById('sprinklrBotEle').style.display = "none";
    sprinklrCareChatEnded();
}
    </script>
</body>
</html>