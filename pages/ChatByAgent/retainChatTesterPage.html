﻿<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../main.css" />
</head>
<body>
    <nav class="navbar navbar-light bg-light">
            <span id="selectLanguage" style="float: right; display: block; margin-right:5px">
                <span style="background: #6c757d;color: #fff;width: 38px;height: 28px;padding: 2px 11px;border-radius: .25rem 0 0 .25rem;"><i class="fa fa-globe"></i></span>
                <select id="selectLanguageOption" style="margin-left: -5px;">
                    <option>en</option>
                    <option>de</option> 
                    <option>pt</option>
                    <option>cn</option>
                    <option>es</option>
                    <option>ko</option>
                    <option>ja</option>                  
                </select>
            </span>
        <a class="navbar-brand" href="#">
            <img src="../../assets/DellTech_Logo_Prm_Blue.jpg" class="d-inline-block align-top" alt="">
        </a>
    </nav>
    <div class="navigationLink">
        <span style="color:#fff; margin-left:30px;">Click on back or close the tab</span>
    </div>
    <div class="container">
        <div class="resume-chat-msg hide">
            <div class="row">
                <div class="col-lg-12">
                    <div class="jumbotron">
                        <h1 class="display-4">Welcome Back</h1>
                    </div>
                </div>
                <div class="live-agent-resume-button hide">
                    <script type='text/javascript' src='https://c.la4-c1cs-phx.salesforceliveagent.com/content/g/js/43.0/deployment.js'></script>
                <a id="liveagent_button_online_5733B0000004D95" class="btn btn-primary" href="javascript://Chat" onclick="liveagent.startChat('5733B0000004D95')" style="display: none;">Start Chat</a><div id="liveagent_button_offline_5733B0000004D95" style="display: none;"><!-- Offline Chat Content --></div><script type="text/javascript">
                    if (!window._laq) { window._laq = []; }
                    window._laq.push(function(){liveagent.showWhenOnline('5733B0000004D95', document.getElementById('liveagent_button_online_5733B0000004D95'));
                    liveagent.showWhenOffline('5733B0000004D95', document.getElementById('liveagent_button_offline_5733B0000004D95'));
                    });</script> 
                </div>
            </div>
            <div class="offline-msg hide">
                <!-- <p>Oh Sorry :(</p>
                <p>Looks like all agents are offline. Please come back some other time</p> -->
            </div>
        </div>
        <div class="new-chat">
            <div class="row">
                <div class="col-lg-2"></div>
                <div class="col-lg-8">
                    <form>

                        <!-- <div class="form-group">
                            <label for="exampleFormControlTextarea1">Description</label>
                            <textarea class="form-control" id="description-textarea" rows="5"></textarea>
                        </div> -->
                        <div class="dropdown hide">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Select Issue Type
                            </button>
                            <div id="issueDropdown" class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item dropdown-item1" href="#">Slow Performance</a>
                                <a class="dropdown-item dropdown-item2" href="#">Keyboard not working</a>
                                <a class="dropdown-item dropdown-item3" href="#">Touch pad not working</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div id="contact-row" class="row hide">
                <div class="col-lg-2"></div>
                <div class="col-lg-8">
                    <h3 class="non-live-agent">Contact Options</h3>
                    <h3 class="live-agent-heading">Contact Options for Live Agent</h3>
                    <div class="call-us">
                        <h5>Call Us</h5>
                        <p class="phone-no">1-855-305-9057</p>
                        <p>24/7</p>
                        <p>Please Note: You will be asked to enter your Express Service Code: <strong>34285956052</strong></p>
                    </div>
                    <div class="chat-with-us">
                        <h5>Chat with us</h5>
                        <p>Start a chat session with one of our technical support experts.</p>
                        <button type="button" id="chatButton" class="btn btn-primary" onclick="initChat()" style="display: block;float: left;margin-right: 20px;">Start Snap-In</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://unpkg.com/popper.js/dist/umd/popper.min.js"></script>
    <script src="https://getbootstrap.com/docs/4.0/dist/js/bootstrap.min.js"></script>
    <script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
    <!-- <script src="mainChatNowworking20180818V4.js"></script> -->
     <script src="mainChat.js"></script>
     
     <!--<script src="sfdccore.js"></script>-->
      <!--<script src="sfdccore.js"></script> -->
     
    <script>
        var dropdownIssue = document.querySelectorAll('#issueDropdown > .dropdown-item');
        for (i = 0; i < dropdownIssue.length; i++) {
            dropdownIssue[i].addEventListener('click', function(e) {
                var val = e.target.outerText;
                if( val != 'Select Issue Type' ) {
                    document.querySelector('#dropdownMenuButton').innerHTML = val;
                    document.querySelector('#contact-row').classList.remove("hide");
                    document.querySelector('.call-us').style.display = 'block';
                    document.querySelector('#chatButton').style.display = 'block';
                    document.querySelector('#selectLanguage').style.display = 'block';
                    document.querySelector('.non-live-agent').style.display = 'block';
                    document.querySelector('.live-agent-heading').style.display = 'none';
                }
            });
        }


        function showIssue() {
            if( document.querySelector('#serviceTag').value.length != 0 ) {

                document.querySelector('.dropdown').classList.remove("hide");
            } else {
                document.querySelector('.dropdown').classList.add("hide");
                document.querySelector('#contact-row').classList.add("hide");
               // document.querySelector('#dropdownMenuButton').text('Select Issue Type');
               document.querySelector('#dropdownMenuButton').text = 'Select Issue Type';
            }
        }
        
        function initChat() {
            var language = document.getElementById("selectLanguageOption");
                var serviceTag = document.querySelector('#serviceTag').value.toUpperCase();
                var issueVal = document.querySelector('#dropdownMenuButton').innerHTML;
                var snapInObject = {
                    language: language.options[language.selectedIndex].value,
                    snapinButtonClicked:true,
                    serviceTag: serviceTag,
                    issueVal: issueVal,
                    firstName: "CoolGuy",
                    BUID: "11",
                    productName: "Precision M4500",
                    baseLiveAgentContentURL: 'https://c.la2-c2cs-iad.salesforceliveagent.com/content',
				    deploymentId: '5720b000000GneC',
				    buttonId: '5730b000000CbhT',//'5730b000000GnqX',//'5730b000000CbhT',//'5730b000000L1hM',
				    baseLiveAgentURL: 'https://d.la2-c2cs-iad.salesforceliveagent.com/chat',
				    LiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I0b000000blJOEAY_16520ef73c5',
                    componentName: "Snap_Ins_Resume_chat",
                    customernumber: "2701",
                    domainName:"localhost",//"bishav.github.io",//
                    organizationId: "00D2a0000008e0t",
                    serviceForceURL: "https://service.force.com",
                    snapInInitURL: 'https://dellservices--DEV2.my.salesforce.com',
                    snapInJs: "https://dellservices--DEV2.my.salesforce.com/embeddedservice/5.0/esw.min.js",
                    snapInLAURL: 'https://dev2-dellservices.cs47.force.com/LASnapIn',
                    
                }
                triggerSnapin(snapInObject);   
            }

        function dellmetricsTrack(elementId,Message){
           // alert("Element Id = "+elementId+" and Message is '"+Message+"'");
           if(Message)
				console.log("PropValue = "+elementId+": "+Message);
			else
                console.log("PropValue = "+elementId);
        }
        triggerSnapin();
    </script>    
</body>
</html>