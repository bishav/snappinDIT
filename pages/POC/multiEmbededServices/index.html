<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <script src="../../../node_modules/jquery/dist/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="../../../node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="../../../main.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="main.js"></script> -->
    <style type='text/css'>
            .embeddedServiceHelpButton .helpButton .uiButton { background-color: #005290; font-family: "Salesforce Sans", sans-serif; }
            .embeddedServiceHelpButton .helpButton .uiButton:focus { outline: 1px solid #005290; }
            @font-face {
            font-family: 'Salesforce Sans';
            src: url('https://www.sfdcstatic.com/system/shared/common/assets/fonts/SalesforceSans/SalesforceSans-Regular.woff') format('woff'),
    url('https://www.sfdcstatic.com/system/shared/common/assets/fonts/SalesforceSans/SalesforceSans-Regular.ttf') format('truetype');
            }
    </style>



     
</head>
<body>
    <nav class="navbar navbar-light bg-light">
    <a class="navbar-brand" href="#">
        <img src="../../../assets/DellTech_Logo_Prm_Blue.jpg" class="d-inline-block align-top" alt="">
    </a>
</nav>
<div class="navigationLink" style="text-align: center;">
  <dev style="color:#fff; font-size: 20px;">Welcome to CARE Chat</dev>
</div>    
    <div id="prechatFormCanvas" class="new-chat" style="margin-top: 20px;">
        <div class="row justify-content-md-center">
                <div class="col-lg-6 col-md-8 col-sm-12 order-md-1  border rounded">
                                <form class="needs-validation" novalidate="">
                                    <div class="mb-3">
                                        <label for="viewType">View Type</label>
                                        <select class="custom-select d-block w-100" id="viewType" required="">
                                                <option>Order</option>
                                                <option>GeneralChat</option>
                                                <option>CustomerNumber</option>
                                                <option>PONumber</option>
                                              </select>
                                        <div class="invalid-feedback">
                                          Please enter your View Type.
                                        </div>
                                      </div>
                                      <div class="mb-3 careIssueType">
                                        <label for="issueType">Issue Type</label>
                                        <select class="custom-select d-block w-100" id="issueType" required="">
                                                <option value="careAgent">Other Issues (Care Agent Chat)</option>
                                                <option value="careBot">Order Status (Care Chat Bot)</option>
                                              </select>
                                        <div class="invalid-feedback">
                                          Please enter your Issue Type.
                                        </div>
                                      </div>
                                        <div class="mb-3">
                                                <label for="serviceTag" style="margin-top: 10px;">Order Number </label>
                                                <div class="input-group">
                                                    <input type="text" class="form-control" id="orderNumber" value="117590363">
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                              <label for="serviceTag" style="margin-top: 10px;">BUID</label>
                                              <div class="input-group">
                                                  <input type="text" class="form-control" id="BUID" value="11">
                                              </div>
                                          </div> 
                                  <hr class="mb-4">
                                  <div class="mb-3">
                                      <a  id="liveagent_button_online_Test" class="enabledButton btn btn-primary btn-lg btn-block"  onclick="startOrderChat()" style="color: #fff;" data-metrics="{&quot;btnname&quot;:&quot;Chat&quot;,&quot;appcode&quot;:&quot;890.130.152&quot;,&quot;ordernumber&quot;:&quot;125600246&quot;}">Start New Chat</a>
                                  </div>
                                </form>
                              
                </div>
            </div>
        </div>
    </div>
   
      <style type='text/css'>
        .embeddedServiceHelpButton .helpButton .uiButton {
          background-color: #007db8;
          font-family: "Roboto Regular", sans-serif;
        }
        .embeddedServiceHelpButton .helpButton .uiButton:focus {
          outline: 1px solid #007db8;
        }
      </style>
    <script src="mainChat.js"></script>
      <script src="orderSupportChatV2.js"></script>
      <script type='text/javascript'>

      function startOrderChat(){
        
        if(issueType === "careAgent"){
          let orderNumber = document.getElementById("orderNumber").value,
          BUID = document.getElementById("BUID").value,
          viewType = document.getElementById('viewType').value,
          DPId = document.getElementById("BUID").value,
          issueType = document.getElementById('issueType').value;
          var orderSnapinObject =  {
            BUID: BUID,
            orderNumber: orderNumber,
            customerNumber: orderNumber,
            poNumber: orderNumber,
            DPId: DPId,
            irnNumber: DPId,
            viewType: viewType,//General/Order/CustomerNumber/PONumber
            issueType:"PC Slow",

            //Hard coded prechat values 
            firstName:"Bishav",
            lastName: "Rajbhandari",
            emailAddress:"bnr@dell.com",
            phoneNumber:"1234567",
            issueDescription:"Test of Description",
            productCode:"Latitude",
            issueType: "KNY",
            BUID: "11",
            productName: "Precision M4500",
            customernumber: "2701",
            
            //G1 Code base
            LiveAgentDevName: "EmbeddedServiceLiveAgent_Parent04I0j0000008OKkEAM_16b2c5b6ad5",
            baseLiveAgentContentURL: "https://c.la2-c1cs-ia2.salesforceliveagent.com/content",
            baseLiveAgentURL: "https://d.la2-c1cs-ia2.salesforceliveagent.com/chat",
            buttonId: "5731P000000TSSX",
            componentName: "CARE_Snap_In",
            customerNumber: "520000181596",
            deploymentId: "5720b000000GneC",
            issueType: "Order Return",
            orderNumber: "131262932",
            organizationId: "00D7A0000004aRK",
            serviceForceURL: "https://service.force.com",
            snapInInitURL: "https://dellservices--ge1.my.salesforce.com",
            snapInJs: "https://dellservices--ge1.my.salesforce.com/embeddedservice/5.0/esw.min.js",
            snapInLAURL: "https://ge1-dellservices.cs44.force.com/LASnapIn"                   


            };
            var orderSnapinLabelObj = {      
                    firstName:"First Name",
                    lastName:"Last Name",
                    emailAddress:"Email Address",
                    phoneNumber:"Primary Phone Number",
                    issueDescription:"Issue Description", //Not required as bot doesnot have description
                    startChat:"Start Chat",
                    orderPreChatHeader: "Please fill out the form below",
                    customerNumber: "Customer Number",
                    poNumber: "PO Number",
                    orderNumber: "Order Number",
                    DPId: "Purchase ID",
                    irnNumber : "IRN Number",
                    optional: "(optional)",
                    lblOrdNoOptional : "Order Number or Purchase ID",
                    characters:"characters",
                    issueDescriptionLength:"250",  //Not required as bot doesnot have description
                    customerPrivacyDesc:"\u003cb\u003eBisahv Your privacy is important to us.\u003c/b\u003e We will only use your information to process your request. We will not share it with anyone. To learn more about how we use and protect your data, see the \u003ca target=\u0027_blank\u0027 href=\u0027//www.dell.com/learn/policies-privacy\u0027\u003eDell Privacy Statement.\u003c/a\u003e",
                    emailValidation:"Invalid Email Validation",
                    firstNameValidation: "First name required",
                    lastNameValidation:"Last name required",
                    emailRequiredValidation:"Email name required",
                    phoneRequiredValidation:"Phone name required",
                    issueDescriptionValidation:"Descritpion name required",  //Not required as bot doesnot have description
                    chatUnavailableMessage:"Sorry, no agents are available at this moment.",
                    chatHeader:"Chat Now",
                    blocklistEmails:"noreply@Dell.com|testing@dell.com|cool@dell.com|ok@dell.com",
                    issueType :"Issue Type"
            };

            triggerOrderSnapin(orderSnapinObject, orderSnapinLabelObj);
        }else if (issueType === "careBot"){
          var issueVal = "Order Status"; 
          var botLang = "en";
          var orderNumber = document.getElementById("orderNumber").value,
          BUID = document.getElementById("BUID").value,
          viewType = document.getElementById('viewType').value,
          DPId = document.getElementById("BUID").value,
          issueType = document.getElementById('issueType').value,
          Application_Context = "ChatBot-CareEnglish";

          var chatBotObject = {
                           chatBotInitURL: 'https://dellservices--dev3.my.salesforce.com',
                           chatBotLAURL: 'https://dev3-dellservices.cs2.force.com/LASnapIn',
                           organizationId: '00DR00000020Cae',
                           baseLiveAgentContentURL: 'https://c.la1-c1cs-ia2.salesforceliveagent.com/content',
                           deploymentId: '5720b000000GneC',
                           baseLiveAgentURL: 'https://d.la1-c1cs-ia2.salesforceliveagent.com/chat',
                           serviceForceURL: "https://service.force.com",
                           snapInJs: 'https://dellservices--dev3.my.salesforce.com/embeddedservice/5.0/esw.min.js'
                        }
                        chatBotObject.me  = 'Bishav',
                        chatBotObject.domainName= "localhost",
                        chatBotObject.Kb_Article='Check this One',
                        chatBotObject.First_Name  = 'Bishav',	
                        chatBotObject.Last_Name='NR',	
                        chatBotObject.Phone='9611329319',	
                        chatBotObject.Email='bnr@dell.com',
                        chatBotObject.product_Model='Latitude',
                        chatBotObject.issue_Description='Slow PC',
                        chatBotObject.warranty_Details='',
                        chatBotObject.windows_Version='',
                        chatBotObject.BIOS_Version='',
                        chatBotObject.recent_Software_Updated_Date='',
                        chatBotObject.is_External_Peripherals_Connected='',
                        chatBotObject.is_SA_Diagnostic_Passed='',
                        chatBotObject.is_Error_Related_HWorSW='',
                        chatBotObject.is_BIOSandDrivers_Updated='',
                        chatBotObject.is_AnyAntivirus_Installed='',
                        chatBotObject.is_Related_Heat_Issue='',
                        chatBotObject.is_Warranty_Covered='',
                        chatBotObject.is_HardDrive_Test_Passed='',
                        chatBotObject.is_Memory_Test_Passed='',
                        chatBotObject.is_MotherBoard_Test_Passed='',
                        chatBotObject.is_HDD_IDE='',
                        chatBotObject.last_time_scan_run='',
                        chatBotObject.isDsdnstalled= '',
                        chatBotObject.isHwAlert='',
                        chatBotObject.isSwAlert='',
                        chatBotObject.applicationContext= Application_Context,
                        chatBotObject.issue_Description= issueVal,
                        chatBotObject.language= botLang,
                        chatBotObject.buid= '',
                        chatBotObject.BotFutureUse_2 = 'https://www.dell.com/support/orders/br/pt/brdhs1/dpid/details?v=pZSnv67J7DAGiKKi2XnDGGcddPhK0bRpgHp8q5Y0bxG7wOb19124xI0BItMUSP7Z9jVGVNKCwWSNt5nPsuS%2FMEg4vklkl8lor3GhAxJtVi8%3D',
                        chatBotObject.Agent_QueueName = "5731P000000TSSX";//"5730b00000097Kk";//"5730b00000097Kk";//"5730b000000Gnxf";

                        chatBotObject.componentName = 'Care_Dellchatbot';
                        chatBotObject.buttonId = '5732h0000008P6H';
                        chatBotObject.LiveAgentDevName = 'EmbeddedServiceLiveAgent_Parent04I2h0000004CBYEA2_16fa30a6c99';
                      
                        triggerChatBot(chatBotObject);
        }
      }
      
      function dellmetricsTrack(elementId,Message){
        // alert("Element Id = "+elementId+" and Message is '"+Message+"'");
        if(Message)
            console.log("PropValue = "+elementId+": "+Message);
        else
             console.log("PropValue = "+elementId);
     }
  
    </script>
</body>
</html>